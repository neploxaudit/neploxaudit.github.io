@import "tailwindcss";
@plugin "@tailwindcss/typography";

:root {
  --theme-raisin-100: oklch(92% 0.007 330);
  --theme-raisin-200: oklch(87% 0.008 330);
  --theme-raisin-300: oklch(75% 0.009 320);
  --theme-raisin-400: oklch(58% 0.014 315);
  --theme-raisin-500: oklch(47% 0.016 310);
  --theme-raisin-600: oklch(39% 0.014 315);
  --theme-raisin-700: oklch(33% 0.011 317.25);
  --theme-raisin-800: oklch(29% 0.009 320);
  --theme-raisin-900: oklch(25.5% 0.008 330);
  --theme-raisin-950: oklch(17.5% 0.006 336);

  --theme-stone-100: oklch(97% 0.007 90);
  --theme-stone-200: oklch(95% 0.01 95);
  --theme-stone-300: oklch(94.16% 0.0148 98.29);
  --theme-stone-400: oklch(87% 0.016 100);
  --theme-stone-500: oklch(73% 0.014 95);
  --theme-stone-600: oklch(50% 0.01 92);
  --theme-stone-700: oklch(40% 0.008 90);
  --theme-stone-800: oklch(33% 0.008 88);
  --theme-stone-900: oklch(29% 0.007 88);

  --theme: oklch(65.5% 0.1995 41.5);
  --theme-light: var(--theme-stone-300);
  --theme-dark: var(--theme-raisin-900);

  --surface: var(--theme-light);
  --element: var(--theme-dark);
}

@media (prefers-color-scheme: dark) {
  :root {
    --surface: var(--theme-dark);
    --element: var(--theme-light);
  }
}

@theme {
  --animate-shake: shake 0.4s ease-out;
  @keyframes shake {
    0% {
      transform: skewX(-10deg);
    }
    25% {
      transform: skewX(10deg);
    }
    50% {
      transform: skewX(-10deg);
    }
    75% {
      transform: skewX(10deg);
    }
    100% {
      transform: skewX(-10deg);
    }
  }
}

@theme inline {
  --color-raisin-100: var(--theme-raisin-100);
  --color-raisin-200: var(--theme-raisin-200);
  --color-raisin-300: var(--theme-raisin-300);
  --color-raisin-400: var(--theme-raisin-400);
  --color-raisin-500: var(--theme-raisin-500);
  --color-raisin-600: var(--theme-raisin-600);
  --color-raisin-700: var(--theme-raisin-700);
  --color-raisin-800: var(--theme-raisin-800);
  --color-raisin-900: var(--theme-raisin-900);
  --color-raisin-950: var(--theme-raisin-950);

  --color-stone-100: var(--theme-stone-100);
  --color-stone-200: var(--theme-stone-200);
  --color-stone-300: var(--theme-stone-300);
  --color-stone-400: var(--theme-stone-400);
  --color-stone-500: var(--theme-stone-500);
  --color-stone-600: var(--theme-stone-600);
  --color-stone-700: var(--theme-stone-700);
  --color-stone-800: var(--theme-stone-800);
  --color-stone-900: var(--theme-stone-900);

  --color-theme: var(--theme);
  --color-surface: var(--surface);
  --color-element: var(--element);

  --font-horizon: var(--nextjs-font-horizon);
  --font-horizon-outlined: var(--nextjs-font-horizon-outlined);
  --font-theme-sans: var(--nextjs-font-theme-sans), var(--font-sans);
  --font-theme-serif: var(--nextjs-font-theme-serif), var(--font-serif);
}

::-moz-selection {
  background-color: var(--color-theme);
  color: var(--color-surface);
}
::selection {
  background-color: var(--color-theme);
  color: var(--color-surface);
}
::-webkit-selection {
  background-color: var(--color-theme);
  color: var(--color-surface);
}

@utility text-highlight {
  font-weight: 400;
  white-space: nowrap;
  background-color: var(--color-theme);
  color: var(--color-surface);
}

.header-grid {
  @apply grid gap-x-8 gap-y-6;
}

.landing-nav {
  /* https://chrisburnell.com/clamp-calculator/?font-size-root=16&size-min=16&size-max=20&viewport-min=320&viewport-max=400&viewport-units=vw */
  font-size: clamp(1rem, 0rem + 5vw, 1.25rem);
}

.default-nav {
  /* https://chrisburnell.com/clamp-calculator/?font-size-root=16&size-min=24&size-max=30&viewport-min=375&viewport-max=640&viewport-units=vw */
  font-size: clamp(1.5rem, 0.969rem + 2.264vw, 1.875rem);
}

.landing-header {
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto max-content repeat(3, auto);
}

.default-header {
  grid-template-columns: 1fr auto 1fr;
}

@media (width >= theme(--breakpoint-sm)) {
  .default-nav {
    @apply text-2xl;
  }
}

/* Switch to landscape layout */
@media (width >= theme(--breakpoint-md)) {
  .landing-nav {
    /* https://chrisburnell.com/clamp-calculator/?font-size-root=16&size-min=16&size-max=20&viewport-min=768&viewport-max=1024&viewport-units=vw */
    font-size: clamp(1rem, 0.25rem + 1.563vw, 1.25rem);
  }

  /* Same as landing-nav from md */
  .default-nav {
    font-size: clamp(1rem, 0.25rem + 1.563vw, 1.25rem);
  }

  .landing-header {
    grid-template-columns: auto auto 1fr;
    grid-template-rows: repeat(3, auto);
  }

  .default-header {
    grid-template-columns: auto 1fr;
  }
}

@media (width >= theme(--breakpoint-lg)) {
  .landing-nav {
    @apply text-xl;
  }

  .default-nav {
    @apply text-xl;
  }

  .landing-header {
    grid-template-columns: auto auto 1fr auto;
  }
}

@media (width >= theme(--breakpoint-xl)) {
  .landing-nav {
    @apply text-2xl;
  }

  .default-nav {
    @apply text-2xl;
  }
}

.theme-highlight {
  color: var(--color-surface);
  font-weight: 400;
  white-space: nowrap;
  background-color: var(--color-theme);
}

.landing-highlight {
  color: var(--color-element);
  background-size: 200% 100%;
  background-image: linear-gradient(
    to right,
    var(--color-surface) 50%,
    var(--color-theme) 50%
  );
  transition: background-position 1s;
}

.landing-member:hover .landing-highlight,
.landing-achievements:hover .landing-highlight {
  color: var(--color-surface);
  background-position: -100% 0;
}

.landing-animation {
  transform: scale(0.75);
  transition: transform 0.5s ease-in-out;
  filter: invert(48%) sepia(91%) saturate(5422%) hue-rotate(14deg)
    brightness(106%) contrast(99%);
}

.landing-member:hover .landing-animation {
  transform: rotate(30deg) scale(1.1);
}

@utility prose-theme-light {
  --tw-prose-body: var(--theme-raisin-700);
  --tw-prose-headings: var(--theme-raisin-900);
  --tw-prose-lead: var(--theme-raisin-600);
  --tw-prose-links: var(--theme-raisin-900);
  --tw-prose-bold: var(--theme-raisin-900);
  --tw-prose-counters: var(--theme-stone-600);
  --tw-prose-bullets: var(--theme-stone-500);
  --tw-prose-hr: var(--theme-stone-400);
  --tw-prose-quotes: var(--theme-raisin-900);
  --tw-prose-quote-borders: var(--theme-stone-400);
  --tw-prose-captions: var(--theme-raisin-500);
  --tw-prose-kbd: var(--theme-raisin-900);
  --tw-prose-kbd-shadows: rgb(from var(--theme-raisin-900) R G B);
  --tw-prose-code: var(--theme-raisin-900);
  --tw-prose-pre-code: var(--theme-raisin-200);
  --tw-prose-pre-bg: var(--theme-raisin-800);
  --tw-prose-th-borders: var(--theme-raisin-300);
  --tw-prose-td-borders: var(--theme-raisin-200);
}

@utility prose-theme-dark {
  --tw-prose-body: var(--theme-stone-300);
  --tw-prose-headings: var(--theme-stone-100);
  --tw-prose-lead: var(--theme-stone-400);
  --tw-prose-links: var(--theme-stone-100);
  --tw-prose-bold: var(--theme-stone-100);
  --tw-prose-counters: var(--theme-raisin-400);
  --tw-prose-bullets: var(--theme-raisin-500);
  --tw-prose-hr: var(--theme-raisin-700);
  --tw-prose-quotes: var(--theme-stone-100);
  --tw-prose-quote-borders: var(--theme-raisin-700);
  --tw-prose-captions: var(--theme-stone-400);
  --tw-prose-kbd: var(--theme-stone-100);
  --tw-prose-kbd-shadows: rgb(from var(--theme-stone-100) R G B);
  --tw-prose-code: var(--theme-stone-100);
  --tw-prose-pre-code: var(--theme-stone-300);
  --tw-prose-pre-bg: var(--theme-raisin-950);
  --tw-prose-th-borders: var(--theme-stone-600);
  --tw-prose-td-borders: var(--theme-stone-700);
}
